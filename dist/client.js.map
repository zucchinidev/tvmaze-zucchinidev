{"version":3,"sources":["../lib/client.js"],"names":["Client","endpoint","request","id","path","method","params","uri","encode","json","showName","single","q","page"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;;;;;IAEaA,M,WAAAA,M;AACX,oBAA+D;AAAA,mFAArC,EAACC,UAAU,uBAAX,EAAqC;AAAA,QAAjDA,QAAiD,QAAjDA,QAAiD;;AAAA;;AAC7D,SAAKA,QAAL,GAAgBA,QAAhB;AACD;;;;4BAEQ;AACP,aAAO,KAAKC,OAAL,CAAa,OAAb,EAAsB,KAAtB,CAAP;AACD;;;yBAEKC,E,EAAI;AACR,aAAO,KAAKD,OAAL,YAAsBC,EAAtB,EAA4B,KAA5B,CAAP;AACD;;;4BAEQC,I,EAAMC,M,EAAQC,M,EAAQ;AAC7B,UAAIC,MAAS,KAAKN,QAAd,SAA0BG,IAA9B;AACA,UAAIE,MAAJ,EAAY;AACVC,cAASA,GAAT,SAAgB,sBAAGC,MAAH,CAAUF,MAAV,CAAhB;AACD;AACD,aAAO,uBAAe;AACpBC,aAAKA,GADe;AAEpBF,gBAAQA,MAFY;AAGpBI,cAAM;AAHc,OAAf,CAAP;AAKD;;;2BAEOC,Q,EAAsC;AAAA,sFAAjB,EAACC,QAAQ,KAAT,EAAiB;AAAA,UAA3BA,MAA2B,SAA3BA,MAA2B;;AAC5C,UAAIT,gBAAJ;AACA,cAAQS,MAAR;AACE,aAAK,KAAL;AACET,oBAAU,KAAKA,OAAL,CAAa,cAAb,EAA6B,KAA7B,EAAoC,EAACU,GAAGF,QAAJ,EAApC,CAAV;AACA;AACF;AACER,oBAAU,KAAKA,OAAL,CAAa,oBAAb,EAAmC,KAAnC,EAA0C,EAACU,GAAGF,QAAJ,EAA1C,CAAV;AALJ;AAOA,aAAOR,OAAP;AACD;;;8BAEkB;AAAA,UAAVW,IAAU,uEAAH,CAAG;;AACjB,aAAO,KAAKX,OAAL,CAAa,OAAb,EAAsB,KAAtB,EAA6B,EAACW,UAAD,EAA7B,CAAP;AACD","file":"client.js","sourcesContent":["import requestPromise from 'client-request/promise'\nimport qs from 'querystring'\n\nexport class Client {\n  constructor ({endpoint} = {endpoint: 'http://api.tvmaze.com'}) {\n    this.endpoint = endpoint\n  }\n\n  shows () {\n    return this.request('shows', 'GET')\n  }\n\n  show (id) {\n    return this.request(`shows/${id}`, 'GET')\n  }\n\n  request (path, method, params) {\n    let uri = `${this.endpoint}/${path}`\n    if (params) {\n      uri = `${uri}?${qs.encode(params)}`\n    }\n    return requestPromise({\n      uri: uri,\n      method: method,\n      json: true\n    })\n  }\n\n  search (showName, {single} = {single: false}) {\n    let request\n    switch (single) {\n      case false:\n        request = this.request('search/shows', 'GET', {q: showName})\n        break\n      default:\n        request = this.request('singlesearch/shows', 'GET', {q: showName})\n    }\n    return request\n  }\n\n  getPage (page = 0) {\n    return this.request('shows', 'GET', {page})\n  }\n}\n"]}