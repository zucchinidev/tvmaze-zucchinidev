{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f67ef82c4b83decc0734","webpack:///external \"stream\"","webpack:///external \"util\"","webpack:///./lib/index.js","webpack:///./lib/client.js","webpack:///./node_modules/client-request/promise.js","webpack:///./node_modules/client-request/request.js","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///external \"url\"","webpack:///external \"path\"","webpack:///external \"crypto\"","webpack:///./node_modules/client-request/concat.js","webpack:///external \"querystring\""],"names":["createClient","options","tvmaze","Client","endpoint","request","id","path","method","params","uri","encode","json","showName","single","q","page"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,mC;;;;;;ACAA,iC;;;;;;;;;;;;;;;;;;;;;ACAA;;AACA,IAAMA,eAAe,SAAfA,YAAe,CAACC,OAAD;AAAA,SAAa,mBAAWA,OAAX,CAAb;AAAA,CAArB;AACO,IAAMC,0BAAS;AACpBF;AADoB,CAAf,C;;;;;;;;;;;;;;;;ACFP;;;;AACA;;;;;;;;IAEaG,M,WAAAA,M;AACX,oBAA+D;AAAA,mFAArC,EAACC,UAAU,uBAAX,EAAqC;AAAA,QAAjDA,QAAiD,QAAjDA,QAAiD;;AAAA;;AAC7D,SAAKA,QAAL,GAAgBA,QAAhB;AACD;;;;4BAEQ;AACP,aAAO,KAAKC,OAAL,CAAa,OAAb,EAAsB,KAAtB,CAAP;AACD;;;yBAEKC,E,EAAI;AACR,aAAO,KAAKD,OAAL,YAAsBC,EAAtB,EAA4B,KAA5B,CAAP;AACD;;;4BAEQC,I,EAAMC,M,EAAQC,M,EAAQ;AAC7B,UAAIC,MAAS,KAAKN,QAAd,SAA0BG,IAA9B;AACA,UAAIE,MAAJ,EAAY;AACVC,cAASA,GAAT,SAAgB,sBAAGC,MAAH,CAAUF,MAAV,CAAhB;AACD;AACD,aAAO,uBAAe;AACpBC,aAAKA,GADe;AAEpBF,gBAAQA,MAFY;AAGpBI,cAAM;AAHc,OAAf,CAAP;AAKD;;;2BAEOC,Q,EAAsC;AAAA,sFAAjB,EAACC,QAAQ,KAAT,EAAiB;AAAA,UAA3BA,MAA2B,SAA3BA,MAA2B;;AAC5C,UAAIT,gBAAJ;AACA,cAAQS,MAAR;AACE,aAAK,KAAL;AACET,oBAAU,KAAKA,OAAL,CAAa,cAAb,EAA6B,KAA7B,EAAoC,EAACU,GAAGF,QAAJ,EAApC,CAAV;AACA;AACF;AACER,oBAAU,KAAKA,OAAL,CAAa,oBAAb,EAAmC,KAAnC,EAA0C,EAACU,GAAGF,QAAJ,EAA1C,CAAV;AALJ;AAOA,aAAOR,OAAP;AACD;;;8BAEkB;AAAA,UAAVW,IAAU,uEAAH,CAAG;;AACjB,aAAO,KAAKX,OAAL,CAAa,OAAb,EAAsB,KAAtB,EAA6B,EAACW,UAAD,EAA7B,CAAP;AACD;;;;;;;;;;AC1CH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;ACvBA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;AC7LA,iC;;;;;;ACAA,kC;;;;;;ACAA,gC;;;;;;ACAA,iC;;;;;;ACAA,mC;;;;;;;ACAA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChDA,wC","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"stream\"), require(\"util\"), require(\"http\"), require(\"https\"), require(\"url\"), require(\"path\"), require(\"crypto\"), require(\"querystring\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [\"stream\", \"util\", \"http\", \"https\", \"url\", \"path\", \"crypto\", \"querystring\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory(require(\"stream\"), require(\"util\"), require(\"http\"), require(\"https\"), require(\"url\"), require(\"path\"), require(\"crypto\"), require(\"querystring\"));\n\telse\n\t\troot[\"library\"] = factory(root[\"stream\"], root[\"util\"], root[\"http\"], root[\"https\"], root[\"url\"], root[\"path\"], root[\"crypto\"], root[\"querystring\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f67ef82c4b83decc0734","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 1\n// module chunks = 0","import { Client } from './client'\nconst createClient = (options) => new Client(options)\nexport const tvmaze = {\n  createClient\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","import requestPromise from 'client-request/promise'\nimport qs from 'querystring'\n\nexport class Client {\n  constructor ({endpoint} = {endpoint: 'http://api.tvmaze.com'}) {\n    this.endpoint = endpoint\n  }\n\n  shows () {\n    return this.request('shows', 'GET')\n  }\n\n  show (id) {\n    return this.request(`shows/${id}`, 'GET')\n  }\n\n  request (path, method, params) {\n    let uri = `${this.endpoint}/${path}`\n    if (params) {\n      uri = `${uri}?${qs.encode(params)}`\n    }\n    return requestPromise({\n      uri: uri,\n      method: method,\n      json: true\n    })\n  }\n\n  search (showName, {single} = {single: false}) {\n    let request\n    switch (single) {\n      case false:\n        request = this.request('search/shows', 'GET', {q: showName})\n        break\n      default:\n        request = this.request('singlesearch/shows', 'GET', {q: showName})\n    }\n    return request\n  }\n\n  getPage (page = 0) {\n    return this.request('shows', 'GET', {page})\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/client.js","const request = require('./request')\n\nmodule.exports = requestPromise\n\nfunction requestPromise(opts) {\n  return new Promise(function (resolve, reject) {\n    request(opts, function (err, response, body) {\n      if (err) {\n        reject(err)\n      } else if (response.statusCode >= 400) {\n        err = new Error('Status code ' + response.statusCode)\n        err.response = response\n        err.body = body\n        reject(err)\n      } else {\n        var result = {\n          body: body,\n          response: response\n        }\n        resolve(result)\n      }\n    })\n  })\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/client-request/promise.js\n// module id = 5\n// module chunks = 0","\"use strict\"\n\nmodule.exports = request\n\nvar http = require(\"http\")\nvar https = require(\"https\")\nvar url = require(\"url\")\nvar path = require(\"path\")\n\nvar clientId = require(\"crypto\").randomBytes(3).toString(\"hex\")\n\nvar PassThrough = require(\"stream\").PassThrough\n\nvar concat = require(\"./concat\")\nvar util = require(\"util\")\nvar debug = function noop() {}\nif (util.debuglog != null) {\n  debug = util.debuglog(\"client-request\")\n}\n\nvar requestCount = 0\n\nfunction request(requestOptions, callback) {\n\n  if (requestOptions == null) {\n    throw new TypeError(\"Options parameter is required\")\n  }\n  if (callback == null || (typeof callback != \"function\")) {\n    throw new TypeError(\"callback is required\")\n  }\n\n  var requestId = clientId + \"-\" + requestCount\n\n  var options = formatOptions(requestOptions)\n  var transport = http\n  if (options.scheme == \"https\") {\n    debug(requestId, \"using https transport\")\n    transport = https\n  }\n\n  var body\n  var isStream = false\n  if (requestOptions.body != null) {\n    if (typeof requestOptions.body == \"string\" || Buffer.isBuffer(requestOptions.body)) {\n      debug(\"Detected simple body\")\n      body = requestOptions.body\n    }\n    // Stream duck typing\n    else if (requestOptions.body.pipe != null && (typeof requestOptions.body.pipe == \"function\")) {\n      debug(\"Detected stream body\")\n      body = requestOptions.body\n      isStream = true\n    }\n    else {\n      debug(\"Detected object body, will JSON-serialize\")\n      body = JSON.stringify(requestOptions.body)\n    }\n  }\n\n  var metadata = {}\n  var calledBack = false\n  function reply(err, response) {\n    debug(requestId, \"in reply\", err, response, calledBack)\n    if (calledBack) {\n      debug(requestId, \"REFUSING TO CALL CALLBACK TWICE\")\n      return\n    }\n    calledBack = true\n    clearTimeout(totalTimeout)\n    debug(requestId, \"calling callback err(\" + err + \")\")\n    debug(requestId, \"statusCode:\", metadata.statusCode)\n    debug(requestId, \"reply headers:\", metadata.headers)\n    debug(requestId, \"content:\", Buffer.isBuffer(response) ? response.toString() : response)\n    return callback(err, metadata, response)\n  }\n\n  function collect(content) {\n    debug(requestId, \"in collect\")\n    if (!requestOptions.json) {\n      return reply(null, content)\n    }\n    try {\n      var response = JSON.parse(content)\n    }\n    catch (e) {\n      return reply(e)\n    }\n    return reply(null, response)\n  }\n\n  debug(requestId, \"About to send request\", options)\n  debug(requestId, \"calledBack:\", calledBack)\n  var req = transport.request(options, function onResponse(res) {\n    metadata = res\n\n    var contentLength = parseInt(res.headers['content-length'], 10)\n\n    if (contentLength === 0) {\n      return reply(null, null)\n    } else {\n      res.pipe(concat(collect))\n    }\n    res.once(\"error\", function resError(err) {\n      return reply(err)\n    })\n  })\n\n\n  var origAbort = req.abort\n  req.abort = function abort() {\n    clearTimeout(totalTimeout)\n    debug(requestId, \"aborting request\")\n    origAbort.call(this)\n  }\n\n  var totalTimeout\n  if (requestOptions.timeout) {\n    totalTimeout = setTimeout(function onTimeout() {\n      req.abort()\n      var err = new Error(\"client request timeout\")\n      return reply(err)\n    }, requestOptions.timeout)\n\n    // socket timeout\n    req.setTimeout(requestOptions.timeout, function onSocketTimeout() {\n      req.abort()\n      var err = new Error(\"Socket Timeout on client request\")\n      return reply(err)\n    })\n  }\n\n  req.once(\"abort\", function onAbort() {\n    debug(requestId, \"ABORT\", this.aborted)\n  })\n\n  req.once(\"error\", function reqError(err) {\n    debug(requestId, \"req error event\")\n    return reply(err)\n  })\n\n  if (isStream) {\n    debug(\"sending stream body\")\n    body.pipe(req)\n  }\n  else {\n    if (body != null) {\n      debug(requestId, \"data:\", body)\n      req.write(body)\n    }\n    req.end()\n  }\n\n  requestCount++\n  return req\n}\n\nfunction formatOptions(options) {\n  var headers = options.headers || {}\n  var u = url.parse(options.uri)\n  var au = u.auth || options.auth\n  if (au) {\n      headers.authorization = \"Basic \" + Buffer(au).toString(\"base64\")\n  }\n\n  var protocol = u.protocol || \"\"\n  var iface = protocol === \"https:\" ? https : http\n  var opts = {\n      scheme: protocol.replace(/:$/, \"\"),\n      method: options.method || \"GET\",\n      host: u.hostname,\n      port: Number(u.port) || (protocol === \"https:\" ? 443 : 80),\n      path: u.path,\n      headers: headers,\n      withCredentials: options.withCredentials || false\n  }\n\n  if (protocol === 'https:') {\n    [\"pfx\", \"key\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"secureProtocol\"].forEach(function ea(key) {\n      if (options[key]) {\n        opts[key] = options[key]\n      }\n    })\n  }\n\n  if (options.agent != null) {\n    opts.agent = options.agent\n  }\n\n  return opts\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/client-request/request.js\n// module id = 6\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 11\n// module chunks = 0","\"use strict\"\n\nmodule.exports = Concat\n\nvar Writable = require(\"stream\").Writable\nvar inherits = require(\"util\").inherits\n\nfunction Concat(options, callback) {\n  if (!(this instanceof Concat)) {\n    return new Concat(options, callback)\n  }\n\n  if (typeof options == \"function\") {\n    callback = options\n    options = {}\n  }\n\n  if (typeof callback != \"function\") {\n    // This stream goes nowhere...\n    callback = function devnull() {\n      this._collection = []\n    }\n  }\n\n  if (options == null) {\n    options = {}\n  }\n  this.options = options\n  this.callback = callback\n  this._collection = []\n  Writable.call(this, this.options)\n\n  this.on(\"finish\", this._done)\n}\ninherits(Concat, Writable)\n\nConcat.prototype._write = function (chunk, encoding, callback) {\n  this._collection.push(chunk)\n  callback()\n}\n\nConcat.prototype._done = function _done() {\n  if (this.options.objectMode) {\n    this.callback.call(this, this._collection)\n  }\n  else {\n    this.callback.call(this, Buffer.concat(this._collection))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/client-request/concat.js\n// module id = 12\n// module chunks = 0","module.exports = require(\"querystring\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"querystring\"\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}